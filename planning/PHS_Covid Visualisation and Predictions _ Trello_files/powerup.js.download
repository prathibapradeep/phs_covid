!function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="./",n(n.s=43)}([function(t,e,n){"use strict";var r=n(3).a.Symbol;e.a=r},function(t,e,n){"use strict";e.a=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(18);Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}));var a=n(19);function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.keys(a).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})}));var i,u,c=console;e.log=function(){c.log.apply(c,arguments)},e.queuingAsyncFuncs=(i=[],u=!1,function(t){var e=t.func,n=t.queueComingFunc,r=void 0!==n&&n,a=t.args,c=void 0===a?[]:a,l=t.queueCurrentFunc,s=void 0!==l&&l;return r?(u=!0,e.apply(void 0,o(c)).then((function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];u=!1;var r=function(){i.forEach((function(t){var e=t.func,n=t.resolve,r=t.args,a=e.apply(void 0,o(r));a&&a.then&&"function"==typeof a.then?a.then((function(){n.apply(void 0,arguments)})):n(a)}))};return Promise.resolve({callback:r,args:[].concat(e)})}))):u||s?new Promise((function(t){i.push({func:e,resolve:t,args:c})})):e.apply(void 0,o(c))})},function(t,e,n){"use strict";var r=n(15),a="object"==typeof self&&self&&self.Object===Object&&self,o=r.a||a||Function("return this")();e.a=o},function(t,e,n){"use strict";var r=n(11),a=n(1);var o,i=function(t){if(!Object(a.a)(t))return!1;var e=Object(r.a)(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},u=n(3).a["__core-js_shared__"],c=(o=/[^.]+$/.exec(u&&u.keys&&u.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"";var l=function(t){return!!c&&c in t},s=Function.prototype.toString;var f=function(t){if(null!=t){try{return s.call(t)}catch(t){}try{return t+""}catch(t){}}return""},d=/^\[object .+?Constructor\]$/,h=Function.prototype,p=Object.prototype,v=h.toString,g=p.hasOwnProperty,y=RegExp("^"+v.call(g).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var m=function(t){return!(!Object(a.a)(t)||l(t))&&(i(t)?y:d).test(f(t))};var _=function(t,e){return null==t?void 0:t[e]};e.a=function(t,e){var n=_(t,e);return m(n)?n:void 0}},function(t,e,n){"use strict";var r=n(11);var a=function(t){return null!=t&&"object"==typeof t};e.a=function(t){return"symbol"==typeof t||a(t)&&"[object Symbol]"==Object(r.a)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.searchTickets=e.getTicketsTags=e.getTicketsCount=e.getMassTickets=e.getTickets=e.getTicketViews=e.getDepts=e.getOrgs=void 0;var r,a=n(14),o=(r=a)&&r.__esModule?r:{default:r},i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){a=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=n(21),c=n(12),l=n(2);var s=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(r,a){var s=t.domain,f=t.path,h=t.params,p=void 0===h?{}:h,v=t.method,g=void 0===v?"GET":v,y=t.headers,m=void 0===y?{}:y,_=t.payload,b=void 0===_?null:_,w=t.statePath,O=t.shouldAttachAccessToken,I=void 0===O||O,k=t.shouldCallAPI,j=void 0===k?function(){return!0}:k,P=(0,c.getState)();if(!j(P,w))return(0,l.getData)(e,"isAuthorized",!1).then((function(t){return t||((0,c.clearState)(),P={}),r(w?(0,o.default)(P,w):{})}));return(e?(0,l.getData)(e,"oauth",!1):Promise.resolve({})).then((function(t){if(!t)throw new Error("Failed to obtain oauth");var o=function(){return new Promise((function(t){Promise.all([(0,l.getData)(e,"oauth",!1),(0,l.getData)(e,"DC",".com")]).then((function(e){var n=i(e,2),o=n[0].access_token,l=n[1],d=Object.keys(p).map((function(t){return t+"="+encodeURIComponent(p[t])})).join("&");return(0,u.fetch)(""+s+f+(d?"?"+d:""),{headers:Object.assign({},m,{PARENT_ORIGIN:document.referrer,DC:l},I?{ACCESS_TOKEN:o}:{},b?{"Content-Type":"application/json"}:{}),method:g,body:b&&JSON.stringify(b)}).then((function(e){var n=e.status;200===n?e.json().then((function(e){t(e),w&&(0,c.setState)(w,e),r(e)})).catch((function(t){a(t)})):r({status:n})})).catch((function(t){a(t)}))}))}))},h=t.expiredTime,v=Date.now()>=h;if(n)(0,l.queuingAsyncFuncs)({func:o,queueComingFunc:!0}).then((function(t){var n=t.callback,r=i(t.args,1)[0];r.createdTime=Date.now(),r.expiredTime=Date.now()+33e5,(0,l.setData)(e,{oauth:r}),"function"==typeof n&&n()}));else if(v&&!n){var y=t.refresh_token;d(y,e),(0,l.queuingAsyncFuncs)({func:o,queueCurrentFunc:!0})}else(0,l.queuingAsyncFuncs)({func:o})}))}))},f=function(t,e){var n=(0,o.default)(t,e);return null==n},d=function(t,e){return s({domain:"",path:"/api/v1/token",headers:{REFRESH_TOKEN:t},method:"POST",shouldAttachAccessToken:!1},e,!0)};e.getOrgs=function(t){return s({domain:"",path:"/api/v1/organizations",statePath:"orgs",shouldCallAPI:f},t)},e.getDepts=function(t,e){return s({domain:"",path:"/api/v1/departments",params:{orgId:t},statePath:"depts."+t,shouldCallAPI:f},e)},e.getTicketViews=function(t,e,n){return s({domain:"",path:"/api/v1/ticketviews",params:{depId:e,orgId:t},statePath:"ticketViews."+t+"."+e,shouldCallAPI:f},n)},e.getTickets=function(t,e,n,r,a){return s({domain:"",path:"/api/v1/tickets",params:{orgId:t,depId:e,viewId:n,limits:a}},r)},e.getMassTickets=function(t,e){return s({domain:"",method:"POST",path:"/api/v1/tickets",payload:{tickets:t}},e)},e.getTicketsCount=function(t,e,n,r){return s({domain:"",path:"/api/v1/tickets/count",params:{orgId:t,depId:e,viewId:n}},r)},e.getTicketsTags=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={domain:"",path:"/api/v1/tickets/tags",params:{isDescriptionNeeded:n},payload:{ticketsInfo:t},method:"POST"};return s(r,e)},e.searchTickets=function(t,e,n,r,a){return s({domain:"",path:"/api/v1/tickets/search",params:{orgId:t,depId:e,searchStr:a}},r)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={auth:"Authorize Account",revoke:"Revoke",config:"Set Defaults",orgs:"Portal",dept:"Departments","attach.tickets":"Attach a ticket","attach.ticket.views":"Attach a ticket view","ticket.views":"Ticket Views","org.list":"Select Portal","dept.list":"Select Department","ticket.view.list":"Select Ticket View","search.views":"Search Views","tickets.list":"Select Ticket","no.views.found":"No views found","fetching.views":"Retrieving views from your department","search.portals":"Search Portals","no.portals.found":"No portals found","fetching.portals":"Retrieving your portals","search.depts":"Search Departments","no.depts.found":"No departments found","fetching.depts":"Retrieving departments from your portal","search.tickets":"Search Tickets","no.tickets.found":"No tickets found","fetching.tickets":"Retrieving tickets from your view","open.view.in.zoho.desk":" Open View in Zoho Desk",loading:"Loading...","no.department.selected":"No Department Selected","no.portal.selected":"No Portal Selected","choose.portal":"Choose Portal","choose.department":"Choose Department","set.as.default":"Set as default","config.popup":"Set defaults","revoke.defaults":"Remove Defaults","dc.title":"Select your data center location","dc.us":"Unites States","dc.eu":"European Union","dc.in":"India","dc.au":"Australia","dc.cn":"Canada"};e.getI18nValue=function(t){return r[t]||t}},function(t,e,n){"use strict";e.a=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){"use strict";var r=n(5);e.a=function(t){if("string"==typeof t||Object(r.a)(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},function(t,e,n){"use strict";var r=Array.isArray,a=n(5),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;var u=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Object(a.a)(t))||(i.test(t)||!o.test(t)||null!=e&&t in Object(e))},c=n(4),l=Object(c.a)(Object,"create");var s=function(){this.__data__=l?l(null):{},this.size=0};var f=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},d=Object.prototype.hasOwnProperty;var h=function(t){var e=this.__data__;if(l){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return d.call(e,t)?e[t]:void 0},p=Object.prototype.hasOwnProperty;var v=function(t){var e=this.__data__;return l?void 0!==e[t]:p.call(e,t)};var g=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=l&&void 0===e?"__lodash_hash_undefined__":e,this};function y(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}y.prototype.clear=s,y.prototype.delete=f,y.prototype.get=h,y.prototype.has=v,y.prototype.set=g;var m=y;var _=function(){this.__data__=[],this.size=0},b=n(8);var w=function(t,e){for(var n=t.length;n--;)if(Object(b.a)(t[n][0],e))return n;return-1},O=Array.prototype.splice;var I=function(t){var e=this.__data__,n=w(e,t);return!(n<0)&&(n==e.length-1?e.pop():O.call(e,n,1),--this.size,!0)};var k=function(t){var e=this.__data__,n=w(e,t);return n<0?void 0:e[n][1]};var j=function(t){return w(this.__data__,t)>-1};var P=function(t,e){var n=this.__data__,r=w(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function A(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}A.prototype.clear=_,A.prototype.delete=I,A.prototype.get=k,A.prototype.has=j,A.prototype.set=P;var T=A,S=n(3),D=Object(c.a)(S.a,"Map");var M=function(){this.size=0,this.__data__={hash:new m,map:new(D||T),string:new m}};var C=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var x=function(t,e){var n=t.__data__;return C(e)?n["string"==typeof e?"string":"hash"]:n.map};var z=function(t){var e=x(this,t).delete(t);return this.size-=e?1:0,e};var V=function(t){return x(this,t).get(t)};var E=function(t){return x(this,t).has(t)};var R=function(t,e){var n=x(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function N(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}N.prototype.clear=M,N.prototype.delete=z,N.prototype.get=V,N.prototype.has=E,N.prototype.set=R;var U=N;function F(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,a=e?e.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var i=t.apply(this,r);return n.cache=o.set(a,i)||o,i};return n.cache=new(F.Cache||U),n}F.Cache=U;var L=F;var q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,H=/\\(\\)?/g,$=function(t){var e=L(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(q,(function(t,n,r,a){e.push(r?a.replace(H,"$1"):n||t)})),e})),Z=n(0);var K=function(t,e){for(var n=-1,r=null==t?0:t.length,a=Array(r);++n<r;)a[n]=e(t[n],n,t);return a},J=Z.a?Z.a.prototype:void 0,W=J?J.toString:void 0;var G=function t(e){if("string"==typeof e)return e;if(r(e))return K(e,t)+"";if(Object(a.a)(e))return W?W.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n};var X=function(t){return null==t?"":G(t)};e.a=function(t,e){return r(t)?t:u(t,e)?[t]:$(X(t))}},function(t,e,n){"use strict";var r=n(0),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,u=r.a?r.a.toStringTag:void 0;var c=function(t){var e=o.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var a=i.call(t);return r&&(e?t[u]=n:delete t[u]),a},l=Object.prototype.toString;var s=function(t){return l.call(t)},f=r.a?r.a.toStringTag:void 0;e.a=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":f&&f in Object(t)?c(t):s(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clearState=e.setState=e.getState=void 0;var r=o(n(25)),a=o(n(14));function o(t){return t&&t.__esModule?t:{default:t}}var i={};e.getState=function(t){return t?(0,a.default)(i,t):i},e.setState=function(t,e){var n=(0,r.default)({},t,e);return i=Object.assign({},i,n),!0},e.clearState=function(){i={}}},,function(t,e,n){"use strict";n.r(e);var r=n(10),a=n(9);var o=function(t,e){for(var n=0,o=(e=Object(r.a)(e,t)).length;null!=t&&n<o;)t=t[Object(a.a)(e[n++])];return n&&n==o?t:void 0};e.default=function(t,e,n){var r=null==t?void 0:o(t,e);return void 0===r?n:r}},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(20))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){a=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};e.getText=function(t){if(t){var e=function(t){var e=void 0,n=void 0,r=[],a=[],o=[];if((e=document.createElement("div")).innerHTML="",(r=(t=(t=(t=(t=t.replace(/\n+/gi,"")).replace(/\r+/gi,"")).replace(/<!--.*?-->/gi,"")).replace(/<head>.*?<\/head>/gi,"")).match(/<a .*? data-hugatt="hugatt".*?<\/a>/g))||(r=t.match(/<a .*? data-hugatt="hugatt".*?<\/a>/g)),r){for(n=0;n<r.length;n++)e.innerHTML+=r[n],r[n]=r[n].replace(/[\(]/g,"\\("),r[n]=r[n].replace(/[\)]/g,"\\)"),a.push(new RegExp(r[n]));for(o=e.getElementsByTagName("a"),n=0;n<r.length;n++){var i=o[n].innerHTML+"\n"+o[n].getAttribute("href");t=t.replace(a[n],i)}}return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/<div .*? data-hugatt="hugatt".*?><\/div>/g,"")).replace(/<br.*?>/gi,"\n")).replace(/<hr.*?>/gi,"\n")).replace(/<\/p>/gi,"\n")).replace(/<\/h[1-6]>/gi,"\n")).replace(/<\/tr>/gi,"\n")).replace(/<\/li>/gi,"\n")).replace(/<\/td>/gi," ")).replace(/<\/th>/gi,"")).replace(/<.*?>/gi,"")).replace(/&nbsp;/gi," ")).replace(/&lt;/gi,"<")).replace(/&gt;/gi,">")).replace(/&quot;/gi,'"')).replace(/&amp;/gi,"&")).replace(/&#39;/gi,"'")).replace(/&#x5c;/g,"\\")};if(-1!==t.search(/<blockquote/gi)){var n=t.search(/<blockquote/gi),r=t.toLowerCase().lastIndexOf("</blockquote>"),a=t.substring(n,r+13);return t=t.replace(a,"##===###===##"),a=" > "+(a=(a=e(a)).replace(/\n/gi,"\n > ")),-1!==(t=e(t)).search(/##===###===##/gi)&&(t=t.replace("##===###===##",a)),t}return e(t)}return""};e.getInfoFromURI=function(t){var e=t.match(/info=.*/)||[],n=r(e,1)[0];return!!n&&(n=n.replace(/info=/,""),JSON.parse(window.decodeURIComponent(n)))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(){return"https://trello.com/"===document.referrer&&"https://trello.zohodesk.services"===window.location.origin}},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});e.setDatum=function(t,e){t.set("member","private",e)};var a=e.setData=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"member";return t.set(r,"private",e,n)},o=e.getData=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"member";return t.get(r,"private",e,n)};e.removeData=function(t,e){return t.remove("member","private",e)},e.getAllData=function(t){return t.getAll()},e.getToken=function(t){return t.getContext().member},e.setAttachedViews=function(t,e,n,i){return o(t,"attachedViews",[],"card").then((function(o){return a(t,"attachedViews",[].concat(r(o),[e+"."+n+"."+i]),"card")}))},e.setAttachedTickets=function(t,e,n,i,u){return o(t,"attachedTickets",[],"card").then((function(o){return a(t,"attachedTickets",[].concat(r(o),[e+"."+n+"."+i+"."+u]),"card")}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.createPopup=function(t,e){return t.popup("function"==typeof e?e():e)},e.closePopup=function(t){t.closePopup()}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fetch=void 0;var r=n(2);e.fetch=window.fetch;window.XMLHttpRequest=function(){(0,r.log)("You can't use XMLHttpRequest API ðŸ˜‰")},window.fetch=function(){(0,r.log)("You can't use fetch API ðŸ˜‰")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createAuthPopup=e.authorize=void 0;var r,a=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){a=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=n(48),i=(r=o)&&r.__esModule?r:{default:r},u=n(2),c=n(12),l=n(29),s=n(7);var f=e.authorize=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments[2];return new Promise((function(e){var r=window.screen.width/2-350,a=window.screen.height/2-350,o=window.open(l.AUTH_URL+"?DC="+n,"Authorization Page","width=700,height=700,top="+a+",left="+r);window.confirmAuthrize=function(r){if("invalid_code"===r.error)return(0,c.setState)("isAuthorized",!1),void o.close();r.createdTime=Date.now(),r.expiredTime=Date.now()+33e5,(0,u.setDatum)(t,{isAuthorized:!0,oauth:r,DC:n}),(0,c.clearState)(),(0,c.setState)("isAuthorized",!0),o.close(),window.confirmAuthrize=void 0,e()}})).then((function(){if(e)return t.closePopup()}))};e.createAuthPopup=function(t){return Promise.all([(0,u.getData)(t,"DC",!1),(0,u.getData)(t,"isAuthorized",!1)]).then((function(e,n){var r=a(e,1)[0];return!r&&n&&(r="com"),r?f(t,!0,r):(0,u.createPopup)(t,i.default)}))};e.default=function(t){return(0,u.createPopup)(t,{title:(0,s.getI18nValue)("auth"),items:[{text:(0,s.getI18nValue)("auth"),callback:function(t){return Promise.all([(0,u.getData)(t,"DC",!1),(0,u.getData)(t,"isAuthorized",!1)]).then((function(e,n){var r=a(e,1)[0];return!r&&n&&(r="com"),r?f(t,!0,r):(0,u.createPopup)(t,i.default)}))}}]})}},,,function(t,e,n){"use strict";n.r(e);var r=n(4),a=function(){try{var t=Object(r.a)(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var o=function(t,e,n){"__proto__"==e&&a?a(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},i=n(8),u=Object.prototype.hasOwnProperty;var c=function(t,e,n){var r=t[e];u.call(t,e)&&Object(i.a)(r,n)&&(void 0!==n||e in t)||o(t,e,n)},l=n(10),s=/^(?:0|[1-9]\d*)$/;var f=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&s.test(t))&&t>-1&&t%1==0&&t<e},d=n(1),h=n(9);var p=function(t,e,n,r){if(!Object(d.a)(t))return t;for(var a=-1,o=(e=Object(l.a)(e,t)).length,i=o-1,u=t;null!=u&&++a<o;){var s=Object(h.a)(e[a]),p=n;if(a!=i){var v=u[s];void 0===(p=r?r(v,s,u):void 0)&&(p=Object(d.a)(v)?v:f(e[a+1])?[]:{})}c(u,s,p),u=u[s]}return t};e.default=function(t,e,n){return null==t?t:p(t,e,n)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,a=n(33),o=(r=a)&&r.__esModule?r:{default:r},i=n(7),u=n(6),c=n(2),l=n(16);e.default=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments[3];return function(a){return(0,c.createPopup)(a,{title:(0,i.getI18nValue)("ticket.view.list"),items:function(a,i){var c=t.id,s=e.id,f=i.search;return(0,u.getTicketViews)(c,s,a).then((function(i){var u=i.data;return a.card("attachments").then((function(a){var i=a.attachments.filter((function(t){var e=t.url;return e.includes(window.location.origin+"/app/view.html")&&!e.includes("isTicket")})).map((function(t){var e=t.url,n=(0,l.getInfoFromURI)(e);return n.orgId+"."+n.deptId+"."+n.viewId})),d=[];return u.filter((function(t){var e=t.name,r=t.id;return f?("function"!=typeof n||!i.includes(c+"."+s+"."+r))&&-1!==e.toLowerCase().indexOf(f.toLowerCase()):"function"!=typeof n||!i.includes(c+"."+s+"."+r)})).filter((function(t,e){return e<10})).forEach((function(a){var i=a.name;d.push({text:i,callback:"function"==typeof n?n(t,e,a,r):(0,o.default)(t,e,a,r)})})),d}))})).catch((function(t){throw t}))},search:{count:10,placeholder:(0,i.getI18nValue)("search.views"),empty:(0,i.getI18nValue)("no.views.found"),searching:(0,i.getI18nValue)("fetching.views")}})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(26)),a=l(n(28)),o=n(7),i=n(6),u=n(2),c=n(12);function l(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return(0,u.createPopup)(n,{title:(0,o.getI18nValue)("dept.list"),items:function(n,o){var u=t.id,l=(0,c.getState)("whichAttach");return(0,i.getDepts)(u,n).then((function(n){var i=n.data,u=n.timeZone,c=o.search,s=[];return i.filter((function(t){return!c||-1!==t.name.toLowerCase().indexOf(c.toLowerCase())})).filter((function(t,e){return e<10})).forEach((function(n){var o=n.name;s.push({text:o,callback:"function"==typeof e?e(t,n):(0,r.default)(t,n,"TICKET_VIEW_ATTACH"===l&&a.default,u)})})),s})).catch((function(t){throw t}))},search:{count:10,placeholder:(0,o.getI18nValue)("search.depts"),empty:(0,o.getI18nValue)("no.depts.found"),searching:(0,o.getI18nValue)("fetching.depts")}})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2);e.default=function(t,e,n,a){return function(o){var i=n.name,u=n.id,c=t.id,l=t.portalURL,s=t.organizationName,f=e.id,d=e.name;return o.attach({name:i,url:window.location.origin+"/app/view.html?info="+encodeURIComponent(JSON.stringify({orgId:c,deptId:f,viewId:u,viewName:i,viewURL:l+"#Cases/lv/"+u,orgName:s,deptName:d,timeZone:a,redirectURI:l+"#Cases/lv/"+u}))}),(0,r.closePopup)(o)}}},function(t){t.exports=JSON.parse('{"name":"Zoho Desk","version":"0.0.1","icon":"/icon","AUTH_URL":"/api/v1/auth"}')},,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(27)),a=s(n(26)),o=s(n(28)),i=n(7),u=n(6),c=n(2),l=n(12);function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,c.createPopup)(t,{title:(0,i.getI18nValue)("org.list"),items:function(t,n){return(0,u.getOrgs)(t).then((function(t){var i=t.data,c=n.search,s=(0,l.getState)("whichAttach"),f=[];return i.filter((function(t){return!c||-1!==t.companyName.toLowerCase().indexOf(c.toLowerCase())})).filter((function(t,e){return e<10})).forEach((function(t){var n=t.companyName,i=t.id;f.push({text:n,callback:function(n){return"function"==typeof e?e(t):(0,u.getDepts)(i,n).then((function(e){var i=e.data,u=e.count;if(u)return u>1?(0,r.default)(t)(n):(0,a.default)(t,i[0],"TICKET_VIEW_ATTACH"===s&&o.default)(n)}))}})})),f})).catch((function(t){throw t}))},search:{count:10,placeholder:(0,i.getI18nValue)("search.portals"),empty:(0,i.getI18nValue)("no.portals.found"),searching:(0,i.getI18nValue)("fetching.portals"),debounce:500}})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,a=n(47),o=(r=a)&&r.__esModule?r:{default:r},i=n(6),u=n(2),c=n(16),l=n(7);e.default=function(t,e,n,r){return function(a){return(0,u.createPopup)(a,{title:(0,l.getI18nValue)("tickets.list"),items:function(a,u){var l=t.id,s=e.id,f=n.id,d=u.search;return(d&&d.length>=3?i.searchTickets:i.getTickets)(l,s,f,a,d.length>=3?d:10).then((function(i){var u=i.data;return a.card("attachments").then((function(a){var i=a.attachments.filter((function(t){var e=t.url;return e.includes(window.location.origin+"/app/view.html")&&e.includes("isTicket")})).map((function(t){var e=t.url,n=(0,c.getInfoFromURI)(e);return n.orgId+"."+n.deptId+"."+n.viewId+"."+n.ticketId})),d=[];return u.filter((function(t){var e=t.id;return!i.includes(l+"."+s+"."+f+"."+e)})).forEach((function(a){var i=a.subject,u=a.ticketNumber;d.push({text:"#"+u+" "+i,callback:(0,o.default)(t,e,n,a,r)})})),d}))})).catch((function(t){throw t}))},search:{count:10,placeholder:(0,l.getI18nValue)("search.tickets"),empty:(0,l.getI18nValue)("no.tickets.found"),searching:(0,l.getI18nValue)("fetching.tickets"),debounce:500}})}}},,,,,,,,,,function(t,e,n){"use strict";var r=c(n(17)),a=c(n(44)),o=n(22),i=c(n(51)),u=n(2);function c(t){return t&&t.__esModule?t:{default:t}}(0,r.default)()&&window.TrelloPowerUp.initialize({"card-buttons":a.default,"attachment-sections":i.default,"authorization-status":function(t){return(0,u.getData)(t,"isAuthorized",!1).then((function(t){return{authorized:t}}))},"show-authorization":function(t){return(0,o.createAuthPopup)(t)},"card-badges":function(t,e){var n=e.attachments.filter((function(t){var e=t.url;return-1!==e.indexOf(window.location.origin+"/app/view.html")&&-1!==e.indexOf("isTicket")}));return n.length?[{text:n.length,icon:window.location.origin+"/icon?color=999"}]:[]}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,a=n(45),o=(r=a)&&r.__esModule?r:{default:r},i=n(2),u=n(29);e.default=function(t){var e=t.isMemberSignedIn(),n=t.memberCanWriteToModel("card");return e&&n?[{icon:""+window.location.origin+u.icon,text:"Zoho Desk",callback:function(t){return(0,i.createPopup)(t,{title:"Zoho Desk",items:function(){return o.default}})}}]:[]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(46)),a=i(n(49)),o=i(n(50));function i(t){return t&&t.__esModule?t:{default:t}}e.default=[r.default,a.default,o.default]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){a=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=h(n(32)),o=h(n(27)),i=h(n(26)),u=h(n(33)),c=h(n(22)),l=n(7),s=n(2),f=n(12),d=n(6);function h(t){return t&&t.__esModule?t:{default:t}}e.default={text:(0,l.getI18nValue)("attach.tickets"),callback:function(t){return(0,f.setState)("whichAttach","TICKET_ATTACH"),(0,s.getData)(t,"isAuthorized",!1).then((function(e){return e?(0,s.getData)(t,"config",{}).then((function(e){var n=e.orgInfo,c=e.deptInfo,l=e.viewInfo,s=(n||{}).id,f=(c||{}).id,h=(l||{}).id;return s&&f&&h?(0,u.default)(n,c,l)(t):s&&f?(0,i.default)(n,c)(t):s?(0,d.getDepts)(s,t).then((function(e){var r=e.data,a=e.count;return a&&1===a?(0,i.default)(n,r[0])(t):(0,o.default)(n)(t)})):(0,d.getOrgs)(t).then((function(e){var n=e.data,u=e.count;if(u&&1===u){var c=r(n,1)[0].id;return(0,d.getDepts)(c,t).then((function(e){var r=e.data,a=e.count;return a&&1===a?(0,i.default)(n[0],r[0])(t):(0,o.default)(n[0])(t)}))}return(0,a.default)(t)}))})):(0,c.default)(t)}))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2);e.default=function(t,e,n,a){return function(o){var i=a.id,u=a.ticketNumber,c=a.subject,l=a.webUrl,s=t.id,f=e.id,d=n.id;return o.attach({name:"#"+u+" "+c,url:window.location.origin+"/app/view.html?info="+encodeURIComponent(JSON.stringify({orgId:s,ticketId:i,isTicket:!0,deptId:f,viewId:d,redirectURI:l}))}),(0,r.closePopup)(o)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(22),a=n(7);e.default={title:(0,a.getI18nValue)("dc.title"),items:[{text:(0,a.getI18nValue)("dc.us"),callback:function(t){return(0,r.authorize)(t,!0,"com")}},{text:(0,a.getI18nValue)("dc.eu"),callback:function(t){return(0,r.authorize)(t,!0,"eu")}},{text:(0,a.getI18nValue)("dc.in"),callback:function(t){return(0,r.authorize)(t,!0,"in")}}]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){a=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=h(n(32)),o=h(n(27)),i=h(n(26)),u=h(n(22)),c=h(n(28)),l=n(2),s=n(12),f=n(6),d=n(7);function h(t){return t&&t.__esModule?t:{default:t}}e.default={text:(0,d.getI18nValue)("attach.ticket.views"),callback:function(t){return(0,s.setState)("whichAttach","TICKET_VIEW_ATTACH"),(0,l.getData)(t,"isAuthorized",!1).then((function(e){return e?(0,l.getData)(t,"config",{}).then((function(e){var n=e.orgInfo,u=e.deptInfo,l=(n||{}).id,s=(u||{}).id;return l&&s?(0,i.default)(n,u,c.default)(t):l?(0,f.getDepts)(l,t).then((function(e){var r=e.data,a=e.count;return a&&1===a?(0,i.default)(n,r[0],c.default)(t):(0,o.default)(n)(t)})):(0,f.getOrgs)(t).then((function(e){var n=e.data,u=e.count;if(u&&1===u){var l=r(n,1)[0].id;return(0,f.getDepts)(l,t).then((function(e){var r=e.data,a=e.count;return a&&1===a?(0,i.default)(n[0],r[0],c.default)(t):(0,o.default)(n[0])(t)}))}return(0,a.default)(t)}))})):(0,u.default)(t)}))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,a=n(22),o=(r=a)&&r.__esModule?r:{default:r},i=n(12),u=n(2),c=n(7);e.default={text:(0,c.getI18nValue)("config"),callback:function(t){return(0,i.setState)("whichAttach",""),(0,u.getData)(t,"isAuthorized",!1).then((function(e){return e?t.popup({title:(0,c.getI18nValue)("config.popup"),url:window.location.origin+"/app/configuration.html",height:215}):(0,o.default)(t)}))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){a=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=n(29),o=n(16),i=n(2),u=n(6);e.default=function(t,e){var n=t.isMemberSignedIn();return(0,i.getData)(t,"isAuthorized").then((function(i){if(n&&i){var c=e.entries.reduce((function(t,e){var n=e.url;return-1!==n.indexOf(window.location.origin+"/app/view.html")&&(-1!==n.indexOf("isTicket")?t[0].push(e):t[1].push(e)),t}),[[],[]]),l=r(c,2),s=l[0],f=l[1],d=[""],h=[],p=[];return s&&s.length>0&&s.forEach((function(e){var n=(0,o.getInfoFromURI)(e.url),r=n.orgId,a=n.ticketId;p.push((0,u.getMassTickets)([{orgId:r,ticketId:a}],t).then((function(t){var n=t.data,r=((void 0===n?[]:n)[0]||{}).isDeleted;return void 0===r||r||h.push(e),null})))})),f&&f.length>0?f.forEach((function(e){var n=(0,o.getInfoFromURI)(e.url),r=n.viewName,i=n.orgId,c=n.deptId,l=n.viewId;p.push((0,u.getTicketsCount)(i,c,l,t).then((function(n){var o=n.count;n.isAuthorizedDept&&d.push({claimed:[e],icon:""+window.location.origin+a.icon,title:r.toUpperCase()+" ( "+o+" )",content:{type:"iframe",url:t.signUrl(e.url),height:200}})})))})):p.push(Promise.resolve()),Promise.all(p).then((function(){return h.length?d[0]={claimed:h,icon:""+window.location.origin+a.icon,title:"Zoho Desk Tickets",content:{type:"iframe",url:t.signUrl(window.location.origin+"/app/view.html?isTicket=true"),height:200}}:d.splice(0,1),d}))}return[]}))}}]);